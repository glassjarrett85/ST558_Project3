# ST558_Project3

## Completed by Jarrett Glass
### 04-Dec-2025

This project is the culmination of a semester's worth of training in R programming. This project examines the [Diabetes Health Indicators Dataset](https://www.kaggle.com/datasets/alexteboul/diabetes-health-indicators-dataset/?select=diabetes_binary_health_indicators_BRFSS2015.csv), a clean dataset of survey responses put out by the CDC in 2015.

### EDA and Modeling

After some basic data exploratory analysis, two different models are run on this - the Categorical Tree model, and the Random Forest model. The dataset was split into training and test sets, and 5-fold cross-variance was performed to establish the superior model based on minimal `mn_log_loss` value.

Both models were tuned, and the optimum models were run on the test set, generating predictions and comparing to the actual recorded values. In this case, the Random Forest model was found to have a lower level of loss, and was the preferred model to be used for making predictions.

### API

An API was created using the `plumber` library that allows a user to make predictions about Diabetes status based on the input variables. Any variable not specified by the user to make a prediction will default to the 'expected' value - in this case, it is the most common level in case of categorical variables; or the average value of numeric variables.

There are three endpoints usable with this API:

- `/info`: Returns some basic information about the API, nominally the creator and the URL for the processed github pages describing this project.

- `/confusion`: Returns a plot of the confusion matrix generated by the finalized Random Forest model utilized here. The unfortunately poor `mn_log_loss` value does generate a large number of false negatives in the predicted values.

- `/pred`: How the user will submit predicted values. This could be either one single variable, or multiple variables separated by ampersands (&).

  + Examples: `/pred?PhysActivity=Some&Sex=Male&BMI=26`, etc.
  
### Docker

A docker image was constructed for this project. The Dockerfile has been uploaded to this repository, while the image itself can be found at my [NCSU Student Google Drive](https://drive.google.com/file/d/1a93uMbKOvdJzHNxrLy9SRxCeWoK3kevB/view?usp=drive_link) (Note this is only accessible to others logged into their NCSU Accounts.)